{"remainingRequest":"/Users/den/Desktop/projects/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/den/Desktop/projects/test/resources/frontend/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/den/Desktop/projects/test/resources/frontend/views/Home.vue","mtime":1605196124181},{"path":"/Users/den/Desktop/projects/test/node_modules/cache-loader/dist/cjs.js","mtime":1592927704205},{"path":"/Users/den/Desktop/projects/test/node_modules/thread-loader/dist/cjs.js","mtime":1592927704070},{"path":"/Users/den/Desktop/projects/test/node_modules/babel-loader/lib/index.js","mtime":1605083852619},{"path":"/Users/den/Desktop/projects/test/node_modules/cache-loader/dist/cjs.js","mtime":1592927704205},{"path":"/Users/den/Desktop/projects/test/node_modules/vue-loader/lib/index.js","mtime":1605083853653}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUYXNrTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvVGFza0xpc3QudnVlJwppbXBvcnQgVGFza0NyZWF0ZSBmcm9tICdAL2NvbXBvbmVudHMvVGFza0NyZWF0ZS52dWUnCmltcG9ydCBUYXNrTGlzdFBhZ2luYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL1Rhc2tMaXN0UGFnaW5hdGlvbi52dWUnCmltcG9ydCBUYXNrTGlzdFNvcnQgZnJvbSAnQC9jb21wb25lbnRzL1Rhc2tMaXN0U29ydCcKaW1wb3J0IEF1dGhCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL0F1dGhCdXR0b24nCmltcG9ydCBUYXNrUmVxdWVzdGVyIGZyb20gJ0AvYXBpL1Rhc2tSZXF1ZXN0ZXInCmltcG9ydCBBdXRoUmVxdWVzdGVyIGZyb20gJy4uL2FwaS9BdXRoUmVxdWVzdGVyJwoKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIFRhc2tMaXN0U29ydCwKICAgICAgICBUYXNrTGlzdFBhZ2luYXRpb24sCiAgICAgICAgVGFza0xpc3QsCiAgICAgICAgVGFza0NyZWF0ZSwKICAgICAgICBBdXRoQnV0dG9uLAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgaXNBdXRob3JpemVkOiBmYWxzZSwKICAgICAgICBjb250cm9sczoge30sCiAgICAgICAgdGFza3M6IFtdLAogICAgICAgIHRvdGFsVGFza3NDb3VudDogMCwKICAgICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgICAgaXNTbmFja2JhclZpc2libGU6IGZhbHNlLAogICAgfSksCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgY29udHJvbENoYW5nZShkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuY29ucnRvbHMgPSB7CiAgICAgICAgICAgICAgICAuLi50aGlzLmNvbnJ0b2xzLAogICAgICAgICAgICAgICAgLi4uZGF0YSwKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkVGFza3MoKQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbG9hZFRhc2tzKCkgewogICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWUKICAgICAgICAgICAgY29uc3Qge2RhdGE6IHtkYXRhLCB0b3RhbH19ID0gYXdhaXQgVGFza1JlcXVlc3Rlci5pbmRleCh0aGlzLmNvbnJ0b2xzKQogICAgICAgICAgICB0aGlzLnRhc2tzID0gZGF0YQogICAgICAgICAgICB0aGlzLnRvdGFsVGFza3NDb3VudCA9IHRvdGFsCiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvYWRVc2VyRGF0YSgpIHsKICAgICAgICAgICAgY29uc3Qge2RhdGF9ID0gYXdhaXQgQXV0aFJlcXVlc3Rlci51c2VyKCkKICAgICAgICAgICAgdGhpcy5pc0F1dGhvcml6ZWQgPSBkYXRhCiAgICAgICAgfSwKICAgICAgICBhc3luYyBuZXdUYXNrKCkgewogICAgICAgICAgICB0aGlzLmlzU25hY2tiYXJWaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRUYXNrcygpCiAgICAgICAgfSwKICAgIH0sCiAgICBhc3luYyBtb3VudGVkKCkgewogICAgICAgIGF3YWl0IHRoaXMubG9hZFRhc2tzKCkKICAgICAgICBhd2FpdCB0aGlzLmxvYWRVc2VyRGF0YSgpCiAgICB9LAp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"resources/frontend/views","sourcesContent":["<template>\n    <v-container class=\"fill-height\">\n\n        <v-snackbar v-model=\"isSnackbarVisible\"\n                    color=\"green\"\n                    top>\n            Новая задача успешно создана!\n        </v-snackbar>\n\n        <v-row>\n            <v-spacer/>\n            <auth-button :is-authorized=\"isAuthorized\"/>\n        </v-row>\n\n        <task-list-sort @task:update-sort=\"controlChange\"/>\n\n        <div style=\"min-height: 50vh\"\n             class=\"full-width\">\n\n            <task-list v-if=\"!isLoading\"\n                       :tasks=\"tasks\"\n                       :is-authorized=\"isAuthorized\"\n                       @task:updated=\"loadTasks\"/>\n        </div>\n\n        <task-list-pagination :total-tasks-count=\"totalTasksCount\"\n                              @task:update-paginate=\"controlChange\"/>\n\n        <task-create class=\"mt-auto\"\n                     @task:new-task=\"newTask\"/>\n    </v-container>\n</template>\n\n<script>\n    import TaskList from '@/components/TaskList.vue'\n    import TaskCreate from '@/components/TaskCreate.vue'\n    import TaskListPagination from '@/components/TaskListPagination.vue'\n    import TaskListSort from '@/components/TaskListSort'\n    import AuthButton from '@/components/AuthButton'\n    import TaskRequester from '@/api/TaskRequester'\n    import AuthRequester from '../api/AuthRequester'\n\n    export default {\n        components: {\n            TaskListSort,\n            TaskListPagination,\n            TaskList,\n            TaskCreate,\n            AuthButton,\n        },\n        data: () => ({\n            isAuthorized: false,\n            controls: {},\n            tasks: [],\n            totalTasksCount: 0,\n            isLoading: true,\n            isSnackbarVisible: false,\n        }),\n        methods: {\n            async controlChange(data) {\n                this.conrtols = {\n                    ...this.conrtols,\n                    ...data,\n                }\n\n                await this.loadTasks()\n            },\n            async loadTasks() {\n                this.isLoading = true\n                const {data: {data, total}} = await TaskRequester.index(this.conrtols)\n                this.tasks = data\n                this.totalTasksCount = total\n                this.isLoading = false\n            },\n            async loadUserData() {\n                const {data} = await AuthRequester.user()\n                this.isAuthorized = data\n            },\n            async newTask() {\n                this.isSnackbarVisible = true\n                await this.loadTasks()\n            },\n        },\n        async mounted() {\n            await this.loadTasks()\n            await this.loadUserData()\n        },\n    }\n</script>\n"]}]}